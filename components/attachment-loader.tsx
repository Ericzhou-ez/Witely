"\"use client\";\n\nimport { motion } from \"framer-motion\";\nimport Image from \"next/image\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * AttachmentLoader component displays a loading indicator for attachments.\n *\n * This component renders a subtle overlay showing the number of attachments being read.\n * It uses Framer Motion for smooth animations and conditional rendering.\n *\n * @param {AttachmentLoaderProps} props - Component props.\n * @param {Array<{name?: string; mediaType?: string;}>} props.attachments - List of attachments being loaded.\n * @param {string} [props.className] - Optional additional CSS classes.\n * @returns {JSX.Element | null} The loader UI or null if no attachments.\n */\n\ntype AttachmentLoaderProps = {\n  attachments: Array<{\n    name?: string;\n    mediaType?: string;\n  }>;\n  className?: string;\n};\n\nexport function AttachmentLoader({\n  attachments,\n  className,\n}: AttachmentLoaderProps) {\n  if (attachments.length === 0) {\n    return null;\n  }\n\n  const attachmentLabel = attachments.length === 1\n    ? attachments[0].name || \"attachment\"\n    : `${attachments.length} attachments`;\n\n  return (\n    <motion.div\n      data-testid=\"attachment-loader\"\n      animate={{ opacity: 1, y: 0 }}\n      className={cn(\n        \"flex items-center justify-between rounded-lg border border-border/50 bg-muted/10 px-3 py-2 text-muted-foreground text-sm backdrop-blur-sm\",\n        className\n      )}\n      initial={{ opacity: 0, y: -10 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div className=\"flex items-center gap-1.5\">\n        <div className=\"flex items-center justify-center rounded bg-background p-1\">\n          <Image\n            alt=\"File icon\"\n            height={16}\n            src=\"/icons/folder-icon.svg\"\n            width={16}\n          />\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-2\">\n        <span className=\"font-medium\">Reading {attachmentLabel}</span>\n\n        <div className=\"flex gap-1\" data-testid=\"loading-dots\">\n          <motion.div\n            animate={{ scale: [1, 1.2, 1] }}\n            className=\"size-1 rounded-full bg-current\"\n            data-testid=\"dot-1\"\n            transition={{\n              duration: 1,\n              repeat: Number.POSITIVE_INFINITY,\n              delay: 0,\n            }}\n          />\n          <motion.div\n            animate={{ scale: [1, 1.2, 1] }}\n            className=\"size-1 rounded-full bg-current\"\n            data-testid=\"dot-2\"\n            transition={{\n              duration: 1,\n              repeat: Number.POSITIVE_INFINITY,\n              delay: 0.2,\n            }}\n          />\n          <motion.div\n            animate={{ scale: [1, 1.2, 1] }}\n            className=\"size-1 rounded-full bg-current\"\n            data-testid=\"dot-3\"\n            transition={{\n              duration: 1,\n              repeat: Number.POSITIVE_INFINITY,\n              delay: 0.4,\n            }}\n          />\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n"